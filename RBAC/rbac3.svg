<?xml version="1.0" encoding="UTF-8" standalone="no"?><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" contentScriptType="application/ecmascript" contentStyleType="text/css" height="422.4px" preserveAspectRatio="none" style="width:522px;height:422px;background:#FFFFFF;" version="1.1" viewBox="0 0 522 422" width="522px" zoomAndPan="magnify"><defs><filter height="300%" id="f1ltbh81zjcmss" width="300%" x="-1" y="-1"><feGaussianBlur result="blurOut" stdDeviation="2.4"/><feColorMatrix in="blurOut" result="blurOut2" type="matrix" values="0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 .4 0"/><feOffset dx="4.8" dy="4.8" in="blurOut2" result="blurOut3"/><feBlend in="SourceGraphic" in2="blurOut3" mode="normal"/></filter></defs><g><text fill="#000000" font-family="sans-serif" font-size="21.6" lengthAdjust="spacing" textLength="172.8" x="167.1" y="20.8828">RBAC-3 组合模型</text><!--MD5=[e59cf999063292dce8d6ea34dd10a338]
class user--><rect codeLine="112" fill="#FEFECE" filter="url(#f1ltbh81zjcmss)" height="65.1187" id="user" style="stroke:#A80036;stroke-width:1.7999999999999998;" width="93.6" x="8.4" y="187.4391"/><text fill="#000000" font-family="sans-serif" font-size="14.4" lengthAdjust="spacing" textLength="76.8" x="16.8" y="207.3609">&lt;&lt;用户&gt;&gt;</text><text fill="#000000" font-family="sans-serif" font-size="14.4" lengthAdjust="spacing" textLength="31.2" x="39.6" y="224.3203">User</text><line style="stroke:#A80036;stroke-width:1.7999999999999998;" x1="9.6" x2="100.8" y1="233.3578" y2="233.3578"/><line style="stroke:#A80036;stroke-width:1.7999999999999998;" x1="9.6" x2="100.8" y1="242.9578" y2="242.9578"/><!--MD5=[230c8b93044a8b32754c79e4598c3632]
class role--><rect codeLine="115" fill="#FEFECE" filter="url(#f1ltbh81zjcmss)" height="65.1187" id="role" style="stroke:#A80036;stroke-width:1.7999999999999998;" width="93.6" x="199.2" y="187.4391"/><text fill="#000000" font-family="sans-serif" font-size="14.4" lengthAdjust="spacing" textLength="76.8" x="207.6" y="207.3609">&lt;&lt;角色&gt;&gt;</text><text fill="#000000" font-family="sans-serif" font-size="14.4" lengthAdjust="spacing" textLength="30" x="231" y="224.3203">Role</text><line style="stroke:#A80036;stroke-width:1.7999999999999998;" x1="200.4" x2="291.6" y1="233.3578" y2="233.3578"/><line style="stroke:#A80036;stroke-width:1.7999999999999998;" x1="200.4" x2="291.6" y1="242.9578" y2="242.9578"/><!--MD5=[709ccdcfb80c42dc7c8b224e49d659f0]
class perm--><rect codeLine="118" fill="#FEFECE" filter="url(#f1ltbh81zjcmss)" height="96.2109" id="perm" style="stroke:#A80036;stroke-width:1.7999999999999998;" width="99.6" x="406.2" y="171.8391"/><text fill="#000000" font-family="sans-serif" font-size="14.4" lengthAdjust="spacing" textLength="76.8" x="417.6" y="191.7609">&lt;&lt;许可&gt;&gt;</text><text fill="#000000" font-family="sans-serif" font-size="14.4" lengthAdjust="spacing" textLength="74.4" x="418.8" y="208.7203">Permission</text><line style="stroke:#A80036;stroke-width:1.7999999999999998;" x1="407.4" x2="504.6" y1="217.7578" y2="217.7578"/><ellipse cx="419.4" cy="230.9578" fill="#000000" rx="3.6" ry="3.6" style="stroke:#000000;stroke-width:1.2;"/><text fill="#000000" font-family="sans-serif" font-size="13.2" lengthAdjust="spacing" textLength="68.4" x="430.2" y="235.3195">«操作» ops</text><ellipse cx="419.4" cy="246.5039" fill="#000000" rx="3.6" ry="3.6" style="stroke:#000000;stroke-width:1.2;"/><text fill="#000000" font-family="sans-serif" font-size="13.2" lengthAdjust="spacing" textLength="68.4" x="430.2" y="250.8656">«对象» obs</text><line style="stroke:#A80036;stroke-width:1.7999999999999998;" x1="407.4" x2="504.6" y1="258.45" y2="258.45"/><!--MD5=[d39b0e5acf37d349c49873ef54346d0c]
class session--><rect codeLine="123" fill="#FEFECE" filter="url(#f1ltbh81zjcmss)" height="65.1187" id="session" style="stroke:#A80036;stroke-width:1.7999999999999998;" width="93.6" x="8.4" y="341.0391"/><text fill="#000000" font-family="sans-serif" font-size="14.4" lengthAdjust="spacing" textLength="76.8" x="16.8" y="360.9609">&lt;&lt;会话&gt;&gt;</text><text fill="#000000" font-family="sans-serif" font-size="14.4" lengthAdjust="spacing" textLength="50.4" x="30" y="377.9203">Session</text><line style="stroke:#A80036;stroke-width:1.7999999999999998;" x1="9.6" x2="100.8" y1="386.9578" y2="386.9578"/><line style="stroke:#A80036;stroke-width:1.7999999999999998;" x1="9.6" x2="100.8" y1="396.5578" y2="396.5578"/><!--MD5=[4da45f120b6b49903800f5dc5d31f72a]
class ssd--><rect codeLine="126" fill="#70D4FF" filter="url(#f1ltbh81zjcmss)" height="65.1187" id="ssd" style="stroke:#A80036;stroke-width:1.7999999999999998;" width="151.2" x="74.4" y="33.8391"/><text fill="#000000" font-family="sans-serif" font-size="14.4" lengthAdjust="spacing" textLength="134.4" x="82.8" y="53.7609">&lt;&lt;静态职责分离&gt;&gt;</text><text fill="#000000" font-family="sans-serif" font-size="14.4" lengthAdjust="spacing" textLength="25.2" x="137.4" y="70.7203">SSD</text><line style="stroke:#A80036;stroke-width:1.7999999999999998;" x1="75.6" x2="224.4" y1="79.7578" y2="79.7578"/><line style="stroke:#A80036;stroke-width:1.7999999999999998;" x1="75.6" x2="224.4" y1="89.3578" y2="89.3578"/><!--MD5=[0d8b76dac838dafcd862ce2b139ded14]
class dsd--><rect codeLine="129" fill="#FD953B" filter="url(#f1ltbh81zjcmss)" height="65.1187" id="dsd" style="stroke:#A80036;stroke-width:1.7999999999999998;" width="151.2" x="252" y="341.0391"/><text fill="#000000" font-family="sans-serif" font-size="14.4" lengthAdjust="spacing" textLength="134.4" x="260.4" y="360.9609">&lt;&lt;动态职责分离&gt;&gt;</text><text fill="#000000" font-family="sans-serif" font-size="14.4" lengthAdjust="spacing" textLength="28.8" x="313.2" y="377.9203">DSD</text><line style="stroke:#A80036;stroke-width:1.7999999999999998;" x1="253.2" x2="402" y1="386.9578" y2="386.9578"/><line style="stroke:#A80036;stroke-width:1.7999999999999998;" x1="253.2" x2="402" y1="396.5578" y2="396.5578"/><!--MD5=[46cf5a15e34552029c61a979633c4d65]
link ssd to user--><path codeLine="132" d="M130.356,98.7711 C114.084,124.7151 91.08,161.4111 74.82,187.3551 " fill="none" id="ssd-user" style="stroke:#A80036;stroke-width:1.2;"/><!--MD5=[17d1c68772ecfeb86d7942328ed1cca6]
link ssd to role--><path codeLine="133" d="M169.896,98.7711 C186.372,124.7151 209.664,161.4111 226.14,187.3551 " fill="none" id="ssd-role" style="stroke:#A80036;stroke-width:1.2;"/><!--MD5=[63ce33cd5e178a8d978ca2d524017a28]
link user to role--><path codeLine="134" d="M112.308,219.8391 C136.644,219.8391 164.964,219.8391 189.252,219.8391 " fill="none" id="user-role" style="stroke:#A80036;stroke-width:1.2;"/><line style="stroke:#A80036;stroke-width:1.2;" x1="189.444" x2="199.044" y1="219.8391" y2="212.6391"/><line style="stroke:#A80036;stroke-width:1.2;" x1="189.444" x2="199.044" y1="219.8391" y2="227.0391"/><line style="stroke:#A80036;stroke-width:1.2;" x1="189.444" x2="199.044" y1="219.8391" y2="219.8391"/><ellipse cx="182.244" cy="219.8391" fill="none" rx="4.8" ry="4.8" style="stroke:#A80036;stroke-width:1.2;"/><line style="stroke:#A80036;stroke-width:1.2;" x1="111.96" x2="102.36" y1="219.8391" y2="227.0391"/><line style="stroke:#A80036;stroke-width:1.2;" x1="111.96" x2="102.36" y1="219.8391" y2="212.6391"/><line style="stroke:#A80036;stroke-width:1.2;" x1="111.96" x2="102.36" y1="219.8391" y2="219.8391"/><ellipse cx="119.16" cy="219.8391" fill="none" rx="4.8" ry="4.8" style="stroke:#A80036;stroke-width:1.2;"/><text fill="#000000" font-family="sans-serif" font-size="15.6" lengthAdjust="spacing" textLength="0" x="177" y="212.1211"/><!--MD5=[60667bb19b59ffe7ae023876456a29a0]
link role to perm--><path codeLine="135" d="M302.868,219.8391 C331.836,219.8391 367.044,219.8391 396.396,219.8391 " fill="none" id="role-perm" style="stroke:#A80036;stroke-width:1.2;"/><line style="stroke:#A80036;stroke-width:1.2;" x1="396.504" x2="406.104" y1="219.8391" y2="212.6391"/><line style="stroke:#A80036;stroke-width:1.2;" x1="396.504" x2="406.104" y1="219.8391" y2="227.0391"/><line style="stroke:#A80036;stroke-width:1.2;" x1="396.504" x2="406.104" y1="219.8391" y2="219.8391"/><ellipse cx="389.304" cy="219.8391" fill="none" rx="4.8" ry="4.8" style="stroke:#A80036;stroke-width:1.2;"/><line style="stroke:#A80036;stroke-width:1.2;" x1="302.724" x2="293.124" y1="219.8391" y2="227.0391"/><line style="stroke:#A80036;stroke-width:1.2;" x1="302.724" x2="293.124" y1="219.8391" y2="212.6391"/><line style="stroke:#A80036;stroke-width:1.2;" x1="302.724" x2="293.124" y1="219.8391" y2="219.8391"/><ellipse cx="309.924" cy="219.8391" fill="none" rx="4.8" ry="4.8" style="stroke:#A80036;stroke-width:1.2;"/><text fill="#000000" font-family="sans-serif" font-size="15.6" lengthAdjust="spacing" textLength="0" x="373.5" y="212.1211"/><!--MD5=[ec20515c3853607e150173ab957f5f24]
link user to session--><path codeLine="136" d="M55.2,260.9151 C55.2,283.0071 55.2,310.3911 55.2,332.4591 " fill="none" id="user-session" style="stroke:#A80036;stroke-width:1.2;"/><line style="stroke:#A80036;stroke-width:1.2;" x1="60" x2="50.4" y1="336.1551" y2="336.1551"/><line style="stroke:#A80036;stroke-width:1.2;" x1="60" x2="50.4" y1="332.5551" y2="332.5551"/><line style="stroke:#A80036;stroke-width:1.2;" x1="55.2" x2="55.2" y1="331.3551" y2="340.9551"/><line style="stroke:#A80036;stroke-width:1.2;" x1="50.4" x2="60" y1="257.1711" y2="257.1711"/><line style="stroke:#A80036;stroke-width:1.2;" x1="50.4" x2="60" y1="260.7711" y2="260.7711"/><line style="stroke:#A80036;stroke-width:1.2;" x1="55.2" x2="55.2" y1="261.9711" y2="252.3711"/><!--MD5=[e1a84f08c3dbde357715ac13ae2d8df4]
link role to session--><path codeLine="137" d="M198.552,258.6351 C169.188,281.9031 131.64,311.6631 102.336,334.8951 " fill="none" id="role-session" style="stroke:#A80036;stroke-width:1.2;"/><line style="stroke:#A80036;stroke-width:1.2;" x1="101.4233" x2="95.4597" y1="341.7348" y2="334.2118"/><line style="stroke:#A80036;stroke-width:1.2;" x1="104.2444" x2="98.2809" y1="339.4984" y2="331.9754"/><line style="stroke:#A80036;stroke-width:1.2;" x1="102.203" x2="94.68" y1="334.9915" y2="340.9551"/><line style="stroke:#A80036;stroke-width:1.2;" x1="198.9406" x2="200.519" y1="258.3241" y2="252.3711"/><line style="stroke:#A80036;stroke-width:1.2;" x1="198.9406" x2="212.425" y1="258.3241" y2="252.3711"/><line style="stroke:#A80036;stroke-width:1.2;" x1="198.9406" x2="206.472" y1="258.3241" y2="252.3711"/><!--MD5=[c4ae423e58ca3d2a30f9e3af16391ade]
link role to role--><path codeLine="138" d="M308.952,204.3951 C323.82,205.6431 334.8,210.7911 334.8,219.8391 C334.8,228.8871 307.452,235.2787 307.452,235.2787 " fill="none" id="role-role" style="stroke:#A80036;stroke-width:1.2;"/><polygon fill="none" points="293.052,235.2471,300.2414,240.0629,307.452,235.2787,300.2625,230.4629,293.052,235.2471" style="stroke:#A80036;stroke-width:1.2;"/><line style="stroke:#A80036;stroke-width:1.2;" x1="297.8625" x2="297.8414" y1="209.2205" y2="199.6205"/><line style="stroke:#A80036;stroke-width:1.2;" x1="301.4625" x2="301.4414" y1="209.2126" y2="199.6126"/><line style="stroke:#A80036;stroke-width:1.2;" x1="302.652" x2="293.052" y1="204.41" y2="204.4311"/><!--MD5=[7dde2df82b5b1c687d0eb63cf4cd50ea]
link role to dsd--><path codeLine="139" d="M262.908,252.3711 C276.912,278.3151 296.712,315.0111 310.716,340.9551 " fill="none" id="role-dsd" style="stroke:#A80036;stroke-width:1.2;"/><!--MD5=[c8bd7489781de86dc951a3e590541577]
link session to dsd--><path codeLine="140" d="M102.024,373.4391 C143.1,373.4391 203.58,373.4391 251.58,373.4391 " fill="none" id="session-dsd" style="stroke:#A80036;stroke-width:1.2;"/><text fill="#000000" font-family="sans-serif" font-size="15.6" lengthAdjust="spacing" textLength="0" x="229.8" y="365.7211"/><!--MD5=[d0f50fa0df81b26560c751c1f052d809]
@startuml
title RBAC-0 基础模型
'隐藏Entity标识
hide circle

'entity user <<泛型>>
entity "<<用户>>\nUser" as user {
}

entity " <<角色>> \nRole" as role {
}

entity " <<许可>> \nPermission" as perm {
  *<<操作>> ops
  *<<对象>> obs
}

entity " <<会话>> \nSession" as session {
}

user }o-right-o{role:"      "
role }o-right-o{perm:"     "
user ||- -|| session
role }- -|| session

newpage

title RBAC-1 分层模型
hide circle
'skinparam linetype ortho
entity " <<用户>> \nUser" as user {
}

entity " <<角色>> \nRole" as role {
}

entity " <<许可>> \nPermission" as perm {
* <<操作>> ops
* <<对象>> obs
}

entity " <<会话>> \nSession" as session {
}

user }o-right-o{role:"      "
role }o-right-o{perm:"     "
user ||- -|| session
role }- -|| session
role ||- -o role
note bottom of role
在RBAC0模型之上引入了 **继承关系**，形
成了**角色分层模型**，继承分为**一般继承**
和**受限继承**
end note

newpage

title RBAC-2 约束模型
'隐藏Entity标识
hide circle

'entity user <<泛型>>
entity " <<用户>> \nUser" as user {
}

entity " <<角色>> \nRole" as role {
}

entity " <<许可>> \nPermission" as perm {
  *<<操作>> ops
  *<<对象>> obs
}

entity " <<会话>> \nSession" as session {
}

entity " <<静态职责分离>> \nSSD" as ssd #70d4ff {
}

entity " <<动态职责分离>> \nDSD" as dsd #fd953b {
}

note right of ssd
1. 互斥角色: 同一用户不能授予互斥角色，
    如：会计与审计角色互斥。
2. 基数约束: 一个用户对于的角色数受限或
    一个角色对应的用户数受限。
3. 先决条件约束: 用户想拥有 A 角色就必须
    先拥有 B 角色。
end note
note right of dsd
用户登录系统后动态
决定用户的角色
end note

ssd - - user
ssd - - role
user }o-right-o{role:"           "
role }o-right-o{perm:"          "
user ||- -|| session
role }- -|| session
dsd -up- role
dsd -left- session:"                      "


newpage

title RBAC-3 组合模型
'隐藏Entity标识
hide circle

'entity user <<泛型>>
entity " <<用户>> \nUser" as user {
}

entity " <<角色>> \nRole" as role {
}

entity " <<许可>> \nPermission" as perm {
  *<<操作>> ops
  *<<对象>> obs
}

entity " <<会话>> \nSession" as session {
}

entity " <<静态职责分离>> \nSSD" as ssd #70d4ff {
}

entity " <<动态职责分离>> \nDSD" as dsd #fd953b {
}

ssd - - user
ssd - - role
user }o-right-o{role:"           "
role }o-right-o{perm:"          "
user ||- -|| session
role }- -|| session
role ||- -o role
dsd -up- role
dsd -left- session:"                      "
@enduml

@startuml
title RBAC-0 基础模型
hide circle

entity "<<用户>>\nUser" as user {
}

entity " <<角色>> \nRole" as role {
}

entity " <<许可>> \nPermission" as perm {
  *<<操作>> ops
  *<<对象>> obs
}

entity " <<会话>> \nSession" as session {
}

user }o-right-o{role:"      "
role }o-right-o{perm:"     "
user ||- -|| session
role }- -|| session

newpage

title RBAC-1 分层模型
hide circle
entity " <<用户>> \nUser" as user {
}

entity " <<角色>> \nRole" as role {
}

entity " <<许可>> \nPermission" as perm {
* <<操作>> ops
* <<对象>> obs
}

entity " <<会话>> \nSession" as session {
}

user }o-right-o{role:"      "
role }o-right-o{perm:"     "
user ||- -|| session
role }- -|| session
role ||- -o role
note bottom of role
在RBAC0模型之上引入了 **继承关系**，形
成了**角色分层模型**，继承分为**一般继承**
和**受限继承**
end note

newpage

title RBAC-2 约束模型
hide circle

entity " <<用户>> \nUser" as user {
}

entity " <<角色>> \nRole" as role {
}

entity " <<许可>> \nPermission" as perm {
  *<<操作>> ops
  *<<对象>> obs
}

entity " <<会话>> \nSession" as session {
}

entity " <<静态职责分离>> \nSSD" as ssd #70d4ff {
}

entity " <<动态职责分离>> \nDSD" as dsd #fd953b {
}

note right of ssd
1. 互斥角色: 同一用户不能授予互斥角色，
    如：会计与审计角色互斥。
2. 基数约束: 一个用户对于的角色数受限或
    一个角色对应的用户数受限。
3. 先决条件约束: 用户想拥有 A 角色就必须
    先拥有 B 角色。
end note
note right of dsd
用户登录系统后动态
决定用户的角色
end note

ssd - - user
ssd - - role
user }o-right-o{role:"           "
role }o-right-o{perm:"          "
user ||- -|| session
role }- -|| session
dsd -up- role
dsd -left- session:"                      "


newpage

title RBAC-3 组合模型
hide circle

entity " <<用户>> \nUser" as user {
}

entity " <<角色>> \nRole" as role {
}

entity " <<许可>> \nPermission" as perm {
  *<<操作>> ops
  *<<对象>> obs
}

entity " <<会话>> \nSession" as session {
}

entity " <<静态职责分离>> \nSSD" as ssd #70d4ff {
}

entity " <<动态职责分离>> \nDSD" as dsd #fd953b {
}

ssd - - user
ssd - - role
user }o-right-o{role:"           "
role }o-right-o{perm:"          "
user ||- -|| session
role }- -|| session
role ||- -o role
dsd -up- role
dsd -left- session:"                      "
@enduml

PlantUML version 1.2022.1(Wed Feb 02 02:19:58 CST 2022)
(GPL source distribution)
Java Runtime: OpenJDK Runtime Environment
JVM: OpenJDK 64-Bit Server VM
Default Encoding: UTF-8
Language: zh
Country: CN
--></g></svg>